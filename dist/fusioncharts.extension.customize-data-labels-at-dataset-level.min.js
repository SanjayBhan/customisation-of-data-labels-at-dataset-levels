(function(e){if(typeof module==="object"&&typeof module.exports!=="undefined"){module.exports=e}else{var a=window.FusionCharts;e(a)}})(function(e){(function(e){var a={};function t(l){if(a[l]){return a[l].exports}var r=a[l]={i:l,l:false,exports:{}};e[l].call(r.exports,r,r.exports,t);r.l=true;return r.exports}t.m=e;t.c=a;t.d=function(e,a,l){if(!t.o(e,a)){Object.defineProperty(e,a,{enumerable:true,get:l})}};t.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};t.t=function(e,a){if(a&1)e=t(e);if(a&8)return e;if(a&4&&typeof e==="object"&&e&&e.__esModule)return e;var l=Object.create(null);t.r(l);Object.defineProperty(l,"default",{enumerable:true,value:e});if(a&2&&typeof e!="string")for(var r in e)t.d(l,r,function(a){return e[a]}.bind(null,r));return l};t.n=function(e){var a=e&&e.__esModule?function l(){return e["default"]}:function r(){return e};t.d(a,"a",a);return a};t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)};t.p="";return t(t.s=0)})([function(a,t,l){"use strict";var r=l(1);var n=i(r);function i(e){return e&&e.__esModule?e:{"default":e}}e.addDep(n["default"])},function(e,a,t){"use strict";a.__esModule=true;var l=/^rgba/i,r=/[#\s]/gi,n="FFFFFF",i=void 0,o="none",u="",s=",",d="middle",f="start",c="end",b=function O(e){return e!==i&&e!==null},v="hidden",p="visible",h=["bar2D","bar3D"];function g(e,a,t){return t||t===i?[e,a]:o}function m(){var e,a,t;for(a=0,t=arguments.length;a<t;a+=1){e=arguments[a];if(!e&&e!==false&&e!==0){continue}return e}return u}function y(){var e,a,t;for(a=0,t=arguments.length;a<t;a+=1){e=arguments[a];if(!e&&e!==false&&e!==0){continue}return e}return undefined}function x(){var e,a,t;for(a=0,t=arguments.length;a<t;a+=1){e=arguments[a];if(!e&&e!==false&&e!==0){continue}else if(isNaN(e=Number(e))){continue}return e}return undefined}function S(e,a,t){var i=0,o=0,d=0,f,c;if(t&&t.match(l)){c=t.split(s);i=c[0].slice(c[0].indexOf("(")+1);o=c[1];d=c[2];if(!a&&a!==0){a=parseInt(c[3].slice(0,c[3].indexOf(")"))*100,10)}}if(e){if(e.match(l)){c=e.split(s);i=c[0].slice(c[0].indexOf("(")+1);o=c[1];d=c[2]}else{f=e.replace(r,u).split(s)[0];switch(f.length){case 3:f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2);break;case 6:break;default:f=(f+n).slice(0,6);break}i=parseInt(f.slice(0,2),16)||0;o=parseInt(f.slice(2,4),16)||0;d=parseInt(f.slice(4,6),16)||0}}if(!a&&a!==0){a=100}if(typeof a==="string"){a=a.split(s)[0]}a=parseInt(a,10)/100;return"rgba("+i+s+o+s+d+s+a+")"}function F(){var e=this,a=e.getFromEnv("chart"),t=a.config,l=e.config.JSONData,r=e.getFromEnv("animationManager"),n=a.getChildren("canvas")[0].config,s=a.config.dataLabelStyle,h=l.data,F=a.config.categories,k=a.config.is3D,O=a.config.isstacked,_=F&&F.length,A=h&&h.length,w,D=e.getData(),M=a.getFromEnv("smartLabel"),L,j,E=n.yDepth,C=n.xDepth,I=a.getFromEnv("number-formatter"),P,N,V="",T,J=t.placevaluesinside,q=t.canvasWidth,z=t.canvasLeft,G,H,W=2,B=t.valuepadding+W,K,Q,R,U,X,Y,Z,$,ee=e.getContainer("labelGroup"),ae,te,le,re=e.getFromEnv("chart-attrib"),ne,ie,oe,ue,se,de,fe,ce,be=4,ve=e.getSkippingInfo&&e.getSkippingInfo(),pe=ve&&ve.skippingApplied,he=ve&&ve.labelDraw||[],ge=he.length,me,ye,xe,Se,Fe,ke=e.getState("visible"),Oe=function _e(){this.hide()};ke&&ee.show();M.setStyle(s);w=pe?ge:_<A?_:A;for(N=0;N<w;N++){P=pe?he[N]:N;L=D[P];me=L&&L.config;$=me&&me.setValue;if(L===i||$===i||$===null||me.labelSkip===true){Fe=L&&L.graphics;if(Fe){Fe.label&&Fe.label.hide()}me&&delete me.labelSkip;continue}G=L.graphics;if(!G){continue}T=h[P];X=L._yPos;Y=L._xPos;$=I.getCleanValue(T.value);U=x($)<0;H=L._height;Z=L._width;ae=O?d:U?J?f:c:J?c:f;V=me.displayValue;xe=G.label;if(me.showValue&&b(V)&&V!==u&&$!==null){ne=S(y(l.valuefontcolor,re.valuefontcolor,s.inCancolor),x(l.valuefontalpha,l.valuealpha,re.valuefontalpha,re.valuealpha,100));ie=l.valuebgcolor||re.valuebgcolor?S(y(l.valuebgcolor,re.valuebgcolor),x(l.valuebgalpha,l.valuealpha,re.valuebgalpha,re.valuealpha,100)):u;oe=m(l.valuebordercolor,re.valuebordercolor,u);ue=oe?S(oe,x(l.valueborderalpha,l.valuealpha,re.valueborderalpha,re.valuealpha,100)):u;se=x(l.valueborderthickness,re.valueborderthickness,1);de=x(l.valueborderpadding,re.valueborderpadding,2);fe=x(l.valueborderradius,re.valueborderradius,0);ce=x(l.valueborderdashed,re.valueborderdashed,0)?g(x(l.valueborderdashlen,re.valueborderdashlen,4),x(l.valueborderdashgap,re.valueborderdashgap,2)):o;j={text:V,fill:ne,"text-bound":[ie,ue,se,de,fe,ce],"line-height":s.lineHeight,visibility:e.getState("visible")?p:v};Se=M.getOriSize(V);te=Se.width;te+=B;le=B;K=X+H*.5;Q=Y+(U?0:Z);if(U){R=Y-z}else{R=z+q-(Y+Z)}if(O){Q+=(U?Z:-Z)*.5;Q=Math.max(z+te*.5,Q);Q=Math.min(z+q-te*.5,Q);Q-=k?C:0;K+=k?E:0}else{if(J){if(Z>=te){Q+=U?le:-le;if(k){K+=E;Q-=C}}else{if(te<R){Q+=U?-le:le;ae=U?c:f;if(k&&U){Q-=C}}else{if(U){Q=Y+Z+Math.max(te-Y-Z+z,0)-le;ae=c}else{Q=Y-Math.max(te-(z+q-Y),0)+le;ae=f}if(k){Q-=C;K+=E}}}}else{if(R>=te){Q+=U?-le:le;if(k&&U){Q-=C;K+=C}}else{Q+=U?le+te:-(le+te);if(k){Q-=C;K+=E}}}}if(Q>z+q||Q<z){Q=z+be;ae=f}j["text-anchor"]=ae;j.x=Q;j.y=K;j.fill=ne;j["text-bound"]=[ie,ue,se,de,fe,ce];j.opacity=ke?1:0;ye=r.setAnimation({el:xe||"text",container:ee,component:e,attr:j,callback:!ke&&Oe,label:"plotLabel"});if(!xe){G.label=ye}}else if(G.label){G.label=r.setAnimation({el:G.label,component:e})}}e.config.labelDrawn=true}var k={extension:function _(e){e.addEventListener("instantiated",function(e){if(e.sender.getType()==="dataset"){var a=e.sender,t=a.parseLabelAttributes;a.parseLabelAttributes&&(a.parseLabelAttributes=function(){t.apply(a,arguments);var e=a.getFromEnv("chart"),l=e.config.style,r=a.getFromEnv("chart-attrib"),n=a.config.JSONData,i,s=arguments[0],d=s&&s.config,f,c,b,v,p,h,F;if(d&&d.props&&d.props.label&&d.props.label.attr){i=d.props.label.attr;i.fill=S(y(n.valuefontcolor,r.valuefontcolor,l.inCancolor),x(n.valuefontalpha,n.valuealpha,r.valuefontalpha,r.valuealpha,100));f=n.valuebgcolor||r.valuebgcolor?S(y(n.valuebgcolor,r.valuebgcolor),x(n.valuebgalpha,n.valuealpha,r.valuebgalpha,r.valuealpha,100)):u;c=m(n.valuebordercolor,r.valuebordercolor,u);b=c?S(c,x(n.valueborderalpha,n.valuealpha,r.valueborderalpha,r.valuealpha,100)):u;v=x(n.valueborderthickness,r.valueborderthickness,1);p=x(n.valueborderpadding,r.valueborderpadding,2);h=x(n.valueborderradius,r.valueborderradius,0);F=x(n.valueborderdashed,r.valueborderdashed,0)?g(x(n.valueborderdashlen,r.valueborderdashlen,4),x(n.valueborderdashgap,r.valueborderdashgap,2)):o;i["text-bound"]=[f,b,v,p,h,F]}});if(h.indexOf(a.getName())>=0){a.drawLabel=F}}})},name:"customise-data-labels-at-dataset-level-ext",type:"extension",requiresFusionCharts:true};a["default"]=k}])});
//# sourceMappingURL=fusioncharts.extension.customize-data-labels-at-dataset-level.min.js.map